(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["masterItemPriceGroup"],{a379:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"item-price-group"},[r("div",{staticClass:"text-right mb-3"},[r("b-btn",{directives:[{name:"b-modal",rawName:"v-b-modal.add-item-price-group",modifiers:{"add-item-price-group":!0}}],attrs:{variant:"primary"}},[e._v("\n      "+e._s(e.$t("pages.master.item-price-group.add-item-price-group"))+"\n    ")])],1),e._v(" "),r("CustomDataTable",{ref:"item-price-group-datatable",attrs:{api:e.itemPriceGroupAPI,title:"Kelompok Harga Satuan",fields:e.fields},scopedSlots:e._u([{key:"actions",fn:function(t){return[r("EditButton",{on:{click:function(r){return r.preventDefault(),e.editUnit(t.row.rowData)}}}),e._v(" "),r("DeleteButton",{on:{click:function(r){return r.preventDefault(),e.deleteUnit(t.row.rowData.hashid)}}})]}}])}),e._v(" "),r("EditItemPriceGroup",{attrs:{"selected-item-price-group":e.selectedItemPriceGroup},on:{"item-price-group-updated":e.reload}}),e._v(" "),r("AddItemPriceGroup",{on:{"item-price-group-added":e.reload}})],1)},n=[],i=r("1da1"),o=r("5530"),s=(r("96cf"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"add-unit"},[r("b-modal",{ref:e.modalId,attrs:{id:e.modalId,title:e.$t("pages.master.item-price-group.add-item-price-group")}},[r("ValidationInput",{attrs:{label:"Name","field-name":"name"},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submit.apply(null,arguments)}},model:{value:e.form.unitName,callback:function(t){e.$set(e.form,"unitName",t)},expression:"form.unitName"}}),e._v(" "),r("template",{slot:"modal-footer"},[r("b-button",{staticClass:"mr-1",attrs:{variant:"primary"},on:{click:function(t){return t.preventDefault(),e.submit.apply(null,arguments)}}},[e._v("\n        "+e._s(e.$t("modal.save-bt"))+"\n      ")]),e._v(" "),r("b-button",{attrs:{variant:"secondary"},on:{click:function(t){return e.hideModal(e.modalId)}}},[e._v("\n        "+e._s(e.$t("modal.cancel-bt"))+"\n      ")])],1)],2)],1)}),c=[],l=r("d452"),u=r("d5ad"),d=r("2f62"),m=r("bd9a"),p={mixins:[u["a"]],data:function(){return{modalId:"add-item-price-group",form:{unitName:""}}},methods:Object(o["a"])(Object(o["a"])({},Object(d["b"])(["storeItemPriceGroup"])),{},{submit:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.resetInvalid(),t.next=4,e.storeItemPriceGroup({name:e.form.unitName});case 4:e.resetForm(),e.hideModal(e.modalId),m["Notify"].success("Berhasil menambahkan data kelompok harga satuan"),e.$emit("item-price-group-added"),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),e.checkForInvalidResponse(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))()},hideModal:function(e){this.$refs[e].hide()},resetForm:function(){this.form={unitName:""}}}),components:{ValidationInput:l["a"]}},f=p,v=r("2877"),b=Object(v["a"])(f,s,c,!1,null,null,null),h=b.exports,g=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"edit-item-price-group"},[r("b-modal",{ref:e.modalId,attrs:{id:e.modalId,title:e.$t("pages.master.item-price-group.update-item-price-group")}},[r("ValidationInput",{attrs:{label:"Name","field-name":"name"},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submit.apply(null,arguments)}},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}}),e._v(" "),r("template",{slot:"modal-footer"},[r("b-button",{staticClass:"mr-1",attrs:{variant:"primary"},on:{click:function(t){return t.preventDefault(),e.submit.apply(null,arguments)}}},[e._v("\n        "+e._s(e.$t("modal.save-bt"))+"\n      ")]),e._v(" "),r("b-button",{attrs:{variant:"secondary"},on:{click:function(t){return e.hideModal(e.modalId)}}},[e._v("\n        "+e._s(e.$t("modal.cancel-bt"))+"\n      ")])],1)],2)],1)},k=[],I=(r("b0c0"),{mixins:[u["a"]],props:["selectedItemPriceGroup"],data:function(){return{form:{name:""},modalId:"edit-item-price-group"}},methods:Object(o["a"])(Object(o["a"])({},Object(d["b"])(["updateItemPriceGroup"])),{},{hideModal:function(e){this.$refs[e].hide()},submit:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.resetInvalid(),t.next=4,e.updateItemPriceGroup({id:e.selectedItemPriceGroup.hashid,data:{name:e.form.name}});case 4:m["Notify"].success("Berhasil mengupdate kelompok harga satuan"),e.$emit("item-price-group-updated"),e.resetForm(),e.hideModal(e.modalId),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),e.checkForInvalidResponse(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))()},resetForm:function(){for(var e in this.form)this.form[e]=""}}),watch:{selectedItemPriceGroup:function(e){this.form.name=this.selectedItemPriceGroup.name}},components:{ValidationInput:l["a"]}}),y=I,_=Object(v["a"])(y,g,k,!1,null,null,null),x=_.exports,w=r("6db9"),P=[{name:"__sequence",title:"#"},{name:"name",title:"Name",sortField:"name"},{name:"__slot:actions",title:"Aksi"}],G=r("a5dd"),$=r("455a"),O=r("2b47"),j=r("ed08"),N={data:function(){return{itemPriceGroupAPI:"".concat(O["c"],"/master/item-price-group"),fields:P,selectedItemPriceGroup:{}}},methods:Object(o["a"])(Object(o["a"])({},Object(d["b"])(["destroyItemPriceGroup"])),{},{deleteUnit:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var a,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(j["r"])({title:"Hapus Data Kelompok Harga Satuan ?",text:"Aksi ini tidak dapat dibatalkan !"});case 3:if(a=r.sent,n=a.isConfirmed,!n){r.next=10;break}return r.next=8,t.destroyItemPriceGroup(e);case 8:m["Notify"].success("Berhasil menghapus satuan"),t.reload();case 10:r.next=16;break;case 12:r.prev=12,r.t0=r["catch"](0),t.$notify("error","Gagal menghapus unit"),console.error(r.t0);case 16:case"end":return r.stop()}}),r,null,[[0,12]])})))()},editUnit:function(e){this.$bvModal.show("edit-item-price-group"),this.selectedItemPriceGroup=e},reload:function(){this.$refs["item-price-group-datatable"].reloadTable()}}),components:{AddItemPriceGroup:h,EditItemPriceGroup:x,CustomDataTable:w["a"],EditButton:G["a"],DeleteButton:$["a"]}},C=N,E=Object(v["a"])(C,a,n,!1,null,null,null);t["default"]=E.exports},d452:function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"validation-input"},[r("label",{staticClass:"form-group has-float-label mb-0 can-invalid",class:e.fieldName},[r("input",{staticClass:"form-control",attrs:{type:e.type},domProps:{value:e.value},on:{input:function(t){return e.$emit("input",t.target.value)}}}),e._v(" "),r("span",[e._v(e._s(e.label))])]),e._v(" "),r("span",{staticClass:"mt-1 d-block text-danger error-msg d-none",attrs:{for:""}})])},n=[],i={props:{value:{type:String,required:!1},fieldName:{type:String,required:!0},label:{type:String,required:!0},type:{type:String,required:!1,default:"text"}}},o=i,s=r("2877"),c=Object(s["a"])(o,a,n,!1,null,null,null);t["a"]=c.exports},d5ad:function(e,t,r){"use strict";r("159b");var a=r("bd9a");t["a"]={methods:{setInvalid:function(e,t){var r=".can-invalid.".concat(e),a=document.querySelector("".concat(r," input.form-control")),n=document.querySelector("".concat(r," span")),i=document.querySelector("".concat(r," + .error-msg"));a.classList.add("border-danger"),n.classList.add("text-danger"),i.classList.remove("d-none"),i.innerHTML=t},processInvalid:function(e){for(var t in e.errors)this.setInvalid(t,e.errors[t])},resetInvalid:function(){var e=".can-invalid",t=document.querySelectorAll("".concat(e," input.form-control")),r=document.querySelectorAll("".concat(e," span")),a=document.querySelectorAll("".concat(e," + .error-msg"));t.forEach((function(e){e.classList.remove("border-danger")})),r.forEach((function(e){e.classList.remove("text-danger")})),a.forEach((function(e){e.classList.add("d-none"),e.innerHTML=""}))},checkForInvalidResponse:function(e){var t;switch(null===(t=e.response)||void 0===t?void 0:t.status){case 422:this.processInvalid(e.response.data);break;default:a["Notify"].failure("Terjadi kesalahan"),console.error(e);break}}}}}}]);