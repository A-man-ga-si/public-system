(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["changePassword"],{7285:function(s,a,e){"use strict";e.r(a);var t=function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("div",{staticClass:"change-password"},[e("b-row",[e("b-col",{staticClass:"mx-auto",attrs:{md:6}},[e("form",{on:{submit:function(a){return a.preventDefault(),s.updatePassword.apply(null,arguments)}}},[e("ValidationInput",{staticClass:"mb-4",attrs:{type:"password",label:s.$t("pages.account.change-password.old-password"),"field-name":"old_password"},model:{value:s.form.oldPassword,callback:function(a){s.$set(s.form,"oldPassword",a)},expression:"form.oldPassword"}}),s._v(" "),e("ValidationInput",{staticClass:"mb-4",attrs:{type:"password",label:s.$t("pages.account.change-password.new-password"),"field-name":"password"},model:{value:s.form.password,callback:function(a){s.$set(s.form,"password",a)},expression:"form.password"}}),s._v(" "),e("ValidationInput",{staticClass:"mb-4",attrs:{type:"password",label:s.$t("pages.account.change-password.confirm-new-password"),"field-name":"password_confirmation"},model:{value:s.form.passwordConfirmation,callback:function(a){s.$set(s.form,"passwordConfirmation",a)},expression:"form.passwordConfirmation"}}),s._v(" "),e("b-btn",{class:{"show-spinner":s.processing,"btn-multiple-state btn-shadow":!0},attrs:{type:"submit",variant:"primary",disabled:s.processing}},[e("span",{staticClass:"spinner d-inline-block"},[e("span",{staticClass:"bounce1"}),s._v(" "),e("span",{staticClass:"bounce2"}),s._v(" "),e("span",{staticClass:"bounce3"})]),s._v(" "),e("span",{staticClass:"label"},[s._v("\n            "+s._s(s.$t("pages.account.change-password.save-btn"))+"\n          ")])])],1)])],1)],1)},r=[],n=e("1da1"),o=e("5530"),c=(e("96cf"),e("d452")),i=e("d5ad"),l=e("bd9a"),d=e("2f62"),p={mixins:[i["a"]],data:function(){return{form:{oldPassword:"",password:"",passwordConfirmation:""},processing:!1}},computed:Object(o["a"])({},Object(d["c"])(["currentUser"])),methods:Object(o["a"])({updatePassword:function(){var s=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,s.resetInvalid(),s.processing=!0,a.next=5,s.updateUserInfo({userId:s.currentUser.id,data:{old_password:s.form.oldPassword,password:s.form.password,password_confirmation:s.form.passwordConfirmation}});case 5:l["Notify"].success("Berhasil mengupdate kata sandi"),a.next=11;break;case 8:a.prev=8,a.t0=a["catch"](0),s.checkForInvalidResponse(a.t0);case 11:return a.prev=11,s.processing=!1,s.resetForm(),a.finish(11);case 15:case"end":return a.stop()}}),a,null,[[0,8,11,15]])})))()},resetForm:function(){this.form={password:"",oldPassword:"",passwordConfirmation:""}}},Object(d["b"])(["updateUserInfo"])),components:{ValidationInput:c["a"]}},u=p,f=e("2877"),m=Object(f["a"])(u,t,r,!1,null,null,null);a["default"]=m.exports},d452:function(s,a,e){"use strict";var t=function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("div",{staticClass:"validation-input"},[e("label",{staticClass:"form-group has-float-label mb-0 can-invalid",class:s.fieldName},[e("input",{staticClass:"form-control",attrs:{type:s.type},domProps:{value:s.value},on:{input:function(a){return s.$emit("input",a.target.value)}}}),s._v(" "),e("span",[s._v(s._s(s.label))])]),s._v(" "),e("span",{staticClass:"mt-1 d-block text-danger error-msg d-none",attrs:{for:""}})])},r=[],n={props:{value:{type:String,required:!1},fieldName:{type:String,required:!0},label:{type:String,required:!0},type:{type:String,required:!1,default:"text"}}},o=n,c=e("2877"),i=Object(c["a"])(o,t,r,!1,null,null,null);a["a"]=i.exports},d5ad:function(s,a,e){"use strict";e("159b");var t=e("bd9a");a["a"]={methods:{setInvalid:function(s,a){var e=".can-invalid.".concat(s),t=document.querySelector("".concat(e," input.form-control")),r=document.querySelector("".concat(e," span")),n=document.querySelector("".concat(e," + .error-msg"));t.classList.add("border-danger"),r.classList.add("text-danger"),n.classList.remove("d-none"),n.innerHTML=a},processInvalid:function(s){for(var a in s.errors)this.setInvalid(a,s.errors[a])},resetInvalid:function(){var s=".can-invalid",a=document.querySelectorAll("".concat(s," input.form-control")),e=document.querySelectorAll("".concat(s," span")),t=document.querySelectorAll("".concat(s," + .error-msg"));a.forEach((function(s){s.classList.remove("border-danger")})),e.forEach((function(s){s.classList.remove("text-danger")})),t.forEach((function(s){s.classList.add("d-none"),s.innerHTML=""}))},checkForInvalidResponse:function(s){var a;switch(null===(a=s.response)||void 0===a?void 0:a.status){case 422:this.processInvalid(s.response.data);break;default:t["Notify"].failure("Terjadi kesalahan"),console.error(s);break}}}}}}]);