(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["changeEmail"],{d452:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"validation-input"},[a("label",{staticClass:"form-group has-float-label mb-0 can-invalid",class:e.fieldName},[a("input",{staticClass:"form-control",attrs:{type:e.type},domProps:{value:e.value},on:{input:function(t){return e.$emit("input",t.target.value)}}}),e._v(" "),a("span",[e._v(e._s(e.label))])]),e._v(" "),a("span",{staticClass:"mt-1 d-block text-danger error-msg d-none",attrs:{for:""}})])},r=[],s={props:{value:{type:String,required:!1},fieldName:{type:String,required:!0},label:{type:String,required:!0},type:{type:String,required:!1,default:"text"}}},i=s,c=a("2877"),o=Object(c["a"])(i,n,r,!1,null,null,null);t["a"]=o.exports},d5ad:function(e,t,a){"use strict";a("159b");var n=a("bd9a");t["a"]={methods:{setInvalid:function(e,t){var a=".can-invalid.".concat(e),n=document.querySelector("".concat(a," input.form-control")),r=document.querySelector("".concat(a," span")),s=document.querySelector("".concat(a," + .error-msg"));n.classList.add("border-danger"),r.classList.add("text-danger"),s.classList.remove("d-none"),s.innerHTML=t},processInvalid:function(e){for(var t in e.errors)this.setInvalid(t,e.errors[t])},resetInvalid:function(){var e=".can-invalid",t=document.querySelectorAll("".concat(e," input.form-control")),a=document.querySelectorAll("".concat(e," span")),n=document.querySelectorAll("".concat(e," + .error-msg"));t.forEach((function(e){e.classList.remove("border-danger")})),a.forEach((function(e){e.classList.remove("text-danger")})),n.forEach((function(e){e.classList.add("d-none"),e.innerHTML=""}))},checkForInvalidResponse:function(e){var t;switch(null===(t=e.response)||void 0===t?void 0:t.status){case 422:this.processInvalid(e.response.data);break;default:n["Notify"].failure("Terjadi kesalahan"),console.error(e);break}}}}},d88a:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"change-password"},[a("b-row",[a("b-col",{staticClass:"mx-auto",attrs:{md:6}},[a("form",{on:{submit:function(t){return t.preventDefault(),e.updateUserEmail.apply(null,arguments)}}},[a("b-form-group",{staticClass:"has-float-label mb-4",attrs:{label:e.$t("pages.account.change-email.old-email")}},[a("b-form-input",{attrs:{type:"text",value:e.currentUser.email,disabled:""}})],1),e._v(" "),a("ValidationInput",{staticClass:"mb-3",attrs:{"field-name":"email",label:e.$t("pages.account.change-email.new-email")},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}}),e._v(" "),a("b-btn",{class:{"show-spinner":e.processing,"btn-multiple-state btn-shadow":!0},attrs:{type:"submit",variant:"primary",disabled:e.processing}},[a("span",{staticClass:"spinner d-inline-block"},[a("span",{staticClass:"bounce1"}),e._v(" "),a("span",{staticClass:"bounce2"}),e._v(" "),a("span",{staticClass:"bounce3"})]),e._v(" "),a("span",{staticClass:"label"},[e._v("\n            "+e._s(e.$t("pages.account.change-email.save-btn"))+"\n          ")])])],1)])],1)],1)},r=[],s=a("1da1"),i=a("5530"),c=(a("96cf"),a("d452")),o=a("d5ad"),l=a("bd9a"),u=a("2f62"),d={mixins:[o["a"]],data:function(){return{processing:!1,form:{email:""},errors:{email:""}}},methods:Object(i["a"])({updateUserEmail:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.resetInvalid(),e.processing=!0,t.next=5,e.updateUserInfo({userId:e.currentUser.id,data:{email:e.form.email}});case 5:l["Notify"].success("Berhasil mengupdate email"),e.form.email="",t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),e.checkForInvalidResponse(t.t0);case 12:return t.prev=12,e.processing=!1,t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[0,9,12,15]])})))()}},Object(u["b"])(["fetchUserInfo","updateUserInfo"])),computed:Object(i["a"])({},Object(u["c"])(["currentUser"])),components:{ValidationInput:c["a"]}},p=d,m=a("2877"),f=Object(m["a"])(p,n,r,!1,null,null,null);t["default"]=f.exports}}]);