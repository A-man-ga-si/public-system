(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["masterUnit"],{2189:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"unit"},[n("div",{staticClass:"text-right mb-3"},[n("b-btn",{directives:[{name:"b-modal",rawName:"v-b-modal.add-unit",modifiers:{"add-unit":!0}}],attrs:{variant:"primary"}},[t._v("\n      "+t._s(t.$t("pages.master.unit.add-unit-bt"))+"\n    ")])],1),t._v(" "),n("CustomDataTable",{ref:"unit-data-table",attrs:{api:t.fetchUnitAPI,title:"Daftar Satuan",fields:t.fields},scopedSlots:t._u([{key:"actions",fn:function(e){return[n("EditButton",{on:{click:function(n){return n.preventDefault(),t.editUnit(e.row.rowData)}}}),t._v(" "),n("DeleteButton",{on:{click:function(n){return n.preventDefault(),t.deleteUnit(e.row.rowData.hashid)}}})]}}])}),t._v(" "),n("AddUnit",{on:{"unit-added":t.reload}}),t._v(" "),n("EditUnit",{attrs:{"selected-unit":t.selectedUnit},on:{"unit-updated":t.reload}})],1)},r=[],i=n("1da1"),o=n("5530"),s=(n("96cf"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"add-unit"},[n("b-modal",{ref:t.modalId,attrs:{id:t.modalId,title:t.$t("pages.master.unit.add-unit-bt")}},[n("ValidationInput",{attrs:{label:"Name","field-name":"name"},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submit.apply(null,arguments)}},model:{value:t.form.unitName,callback:function(e){t.$set(t.form,"unitName",e)},expression:"form.unitName"}}),t._v(" "),n("template",{slot:"modal-footer"},[n("b-button",{staticClass:"mr-1",attrs:{variant:"primary"},on:{click:function(e){return e.preventDefault(),t.submit.apply(null,arguments)}}},[t._v("\n        "+t._s(t.$t("modal.save-bt"))+"\n      ")]),t._v(" "),n("b-button",{attrs:{variant:"secondary"},on:{click:function(e){return t.hideModal(t.modalId)}}},[t._v("\n        "+t._s(t.$t("modal.cancel-bt"))+"\n      ")])],1)],2)],1)}),l=[],c=n("d5ad"),d=n("d452"),u=n("2f62"),m=n("bd9a"),f={mixins:[c["a"]],data:function(){return{form:{unitName:""},modalId:"add-unit"}},methods:Object(o["a"])(Object(o["a"])({},Object(u["b"])(["storeUnit"])),{},{hideModal:function(t){this.$refs[t].hide()},submit:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.resetInvalid(),e.next=4,t.storeUnit({name:t.form.unitName});case 4:m["Notify"].success("Berhasil menambah satuan"),t.$emit("unit-added"),t.resetForm(),t.hideModal(t.modalId),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),t.checkForInvalidResponse(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()},resetForm:function(){for(var t in this.form)this.form[t]=""}}),components:{ValidationInput:d["a"]}},p=f,v=n("2877"),b=Object(v["a"])(p,s,l,!1,null,null,null),h=b.exports,y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"add-unit"},[n("b-modal",{ref:t.modalId,attrs:{id:t.modalId,title:t.$t("pages.master.unit.update-unit-bt")}},[n("ValidationInput",{attrs:{label:"Name","field-name":"name"},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submit.apply(null,arguments)}},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}}),t._v(" "),n("template",{slot:"modal-footer"},[n("b-button",{staticClass:"mr-1",attrs:{variant:"primary"},on:{click:function(e){return e.preventDefault(),t.submit.apply(null,arguments)}}},[t._v("\n        "+t._s(t.$t("modal.save-bt"))+"\n      ")]),t._v(" "),n("b-button",{attrs:{variant:"secondary"},on:{click:function(e){return t.hideModal(t.modalId)}}},[t._v("\n        "+t._s(t.$t("modal.cancel-bt"))+"\n      ")])],1)],2)],1)},k=[],_=(n("b0c0"),{mixins:[c["a"]],props:["selectedUnit"],data:function(){return{form:{name:""},modalId:"edit-unit"}},methods:Object(o["a"])(Object(o["a"])({},Object(u["b"])(["updateUnit"])),{},{hideModal:function(t){this.$refs[t].hide()},submit:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.resetInvalid(),e.next=4,t.updateUnit({id:t.selectedUnit.hashid,data:{name:t.form.name}});case 4:m["Notify"].success("Berhasil mengupdate satuan"),t.$emit("unit-updated"),t.resetForm(),t.hideModal(t.modalId),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),t.checkForInvalidResponse(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()},resetForm:function(){for(var t in this.form)this.form[t]=""}}),watch:{selectedUnit:function(t){this.form.name=this.selectedUnit.name}},components:{ValidationInput:d["a"]}}),g=_,x=Object(v["a"])(g,y,k,!1,null,null,null),I=x.exports,w=n("6db9"),U=[{name:"__sequence",title:"#"},{name:"name",title:"Name",sortField:"name"},{name:"__slot:actions",title:"Aksi"}],$=n("a5dd"),O=n("455a"),j=n("2b47"),C=n("ed08"),N={data:function(){return{fetchUnitAPI:"".concat(j["c"],"/master/unit"),selectedUnit:{},fields:U}},methods:Object(o["a"])(Object(o["a"])({},Object(u["b"])(["destroyUnit"])),{},{reload:function(){this.$refs["unit-data-table"].reloadTable()},deleteUnit:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(C["r"])({title:"Hapus Data Satuan ?",text:"Aksi ini tidak dapat dibatalkan !"});case 3:if(a=n.sent,r=a.isConfirmed,!r){n.next=10;break}return n.next=8,e.destroyUnit(t);case 8:m["Notify"].success("Berhasil menghapus satuan"),e.reload();case 10:n.next=16;break;case 12:n.prev=12,n.t0=n["catch"](0),e.$notify("error","Gagal menghapus unit"),console.error(n.t0);case 16:case"end":return n.stop()}}),n,null,[[0,12]])})))()},editUnit:function(t){this.$bvModal.show("edit-unit"),this.selectedUnit=t}}),components:{AddUnit:h,CustomDataTable:w["a"],EditUnit:I,EditButton:$["a"],DeleteButton:O["a"]}},E=N,S=Object(v["a"])(E,a,r,!1,null,null,null);e["default"]=S.exports},d452:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"validation-input"},[n("label",{staticClass:"form-group has-float-label mb-0 can-invalid",class:t.fieldName},[n("input",{staticClass:"form-control",attrs:{type:t.type},domProps:{value:t.value},on:{input:function(e){return t.$emit("input",e.target.value)}}}),t._v(" "),n("span",[t._v(t._s(t.label))])]),t._v(" "),n("span",{staticClass:"mt-1 d-block text-danger error-msg d-none",attrs:{for:""}})])},r=[],i={props:{value:{type:String,required:!1},fieldName:{type:String,required:!0},label:{type:String,required:!0},type:{type:String,required:!1,default:"text"}}},o=i,s=n("2877"),l=Object(s["a"])(o,a,r,!1,null,null,null);e["a"]=l.exports},d5ad:function(t,e,n){"use strict";n("159b");var a=n("bd9a");e["a"]={methods:{setInvalid:function(t,e){var n=".can-invalid.".concat(t),a=document.querySelector("".concat(n," input.form-control")),r=document.querySelector("".concat(n," span")),i=document.querySelector("".concat(n," + .error-msg"));a.classList.add("border-danger"),r.classList.add("text-danger"),i.classList.remove("d-none"),i.innerHTML=e},processInvalid:function(t){for(var e in t.errors)this.setInvalid(e,t.errors[e])},resetInvalid:function(){var t=".can-invalid",e=document.querySelectorAll("".concat(t," input.form-control")),n=document.querySelectorAll("".concat(t," span")),a=document.querySelectorAll("".concat(t," + .error-msg"));e.forEach((function(t){t.classList.remove("border-danger")})),n.forEach((function(t){t.classList.remove("text-danger")})),a.forEach((function(t){t.classList.add("d-none"),t.innerHTML=""}))},checkForInvalidResponse:function(t){var e;switch(null===(e=t.response)||void 0===e?void 0:e.status){case 422:this.processInvalid(t.response.data);break;default:a["Notify"].failure("Terjadi kesalahan"),console.error(t);break}}}}}}]);