(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["masterAhs"],{"0df1":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ahs-master"},[a("div",{staticClass:"mb-3 d-flex justify-content-between"},[a("div",{staticClass:"left"},[a("div",{staticClass:"labeled-select position-relative d-inline-block",staticStyle:{width:"300px"}},[a("span",{staticClass:"px-1"},[t._v(" Provinsi")]),t._v(" "),a("v-select",{attrs:{label:"name",reduce:function(t){return t.hashid},options:t.provinces},model:{value:t.selectedProvince,callback:function(e){t.selectedProvince=e},expression:"selectedProvince"}})],1)])]),t._v(" "),a("ul",{staticClass:"ahs-item-list"},t._l(t.getAhs,(function(e,s){return a("li",{key:s},[a("AhsItem",{attrs:{"codes-list":t.codesList,"units-list":t.getUnit,"ahs-itemable-list":t.getAhsItemableIds,"ahs-item":e},on:{"ahs-deleted":function(e){return t.fetchAhs(t.selectedProvince)},"ahs-item-added":function(e){return t.fetchAhs(t.selectedProvince)},"ahs-item-updated":function(e){return t.fetchAhs(t.selectedProvince)},"ahs-item-deleted":function(e){return t.fetchAhs(t.selectedProvince)},"ahs-item-edit-clicked":t.editAhs}})],1)})),0),t._v(" "),a("AddAhs",{on:{"ahs-added":t.ahsAdded}}),t._v(" "),a("EditAhs",{attrs:{"selected-ahs":t.selectedAhs},on:{"ahs-updated":function(e){return t.fetchAhs(t.selectedProvince)}}}),t._v(" "),a("FloatingActionButton",{directives:[{name:"b-modal",rawName:"v-b-modal.add-ahs-modal",modifiers:{"add-ahs-modal":!0}}]})],1)},n=[],i=a("1da1"),r=a("5530"),o=(a("96cf"),a("a420")),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"\n    ahs-card-single\n    position-relative\n    mb-3\n    custom-nice-border\n    p-4\n    rounded-md\n    shadow-sm\n  "},[a("div",{staticClass:"heading d-flex justify-content-between"},[a("div",{staticClass:"left"},[a("h5",[t._v(t._s(t.ahsItem.id)+" | "+t._s(t.ahsItem.name))])]),t._v(" "),a("div",{staticClass:"right"},[a("h3",{staticClass:"d-inline-block mb-0",staticStyle:{"vertical-align":"top"}},[t._v("\n        "+t._s(t.ahsItemFinalSubtotal)+" |\n      ")]),t._v(" "),a("a",{staticClass:"h4 text-success ml-1",class:{"text-primary":t.mainCardCollapsed},attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.toggleMaincardCollapse.apply(null,arguments)}}},[a("i",{staticClass:"iconsmind simple-icon-plus"})]),t._v(" "),a("a",{directives:[{name:"b-modal",rawName:"v-b-modal.edit-ahs-modal",modifiers:{"edit-ahs-modal":!0}}],staticClass:"h4 text-primary ml-1",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.editAhs.apply(null,arguments)}}},[a("i",{staticClass:"iconsmind simple-icon-plus"})]),t._v(" "),a("a",{staticClass:"h4 text-danger ml-1",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.deleteAhs.apply(null,arguments)}}},[a("i",{staticClass:"iconsmind simple-icon-close"})])])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.mainCardCollapsed,expression:"!mainCardCollapsed"}],staticClass:"body mt-2"},[a("table",{staticClass:"table text-left"},[t._m(0),t._v(" "),a("tbody",[a("AhsHeaderRow",{attrs:{title:"A. TENAGA KERJA"}}),t._v(" "),t._l(t.ahsItem.item_arranged.labor,(function(e,s){return a("AhsItemRow",{key:"A-"+s,attrs:{"codes-list":t.ahsItemableList,"units-list":t.unitsList,"ahs-itemable-list":t.ahsItemableList,idx:s,"ahs-item":e},on:{"ahs-item-updated":t.onAhsItemUpdated,"ahs-item-deleted":t.onAhsItemDeleted}})})),t._v(" "),a("tr",[a("td",{staticClass:"font-weight-bold",attrs:{colspan:"8"}},[a("a",{staticClass:"d-block w-100",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.addAhsItem("labor")}}},[t._v("\n              + Tambah Baris\n            ")])])]),t._v(" "),a("AhsFooterRow",{attrs:{title:"Total Tenaga Kerja",value:t.totalTenagaKerja}}),t._v(" "),a("AhsHeaderRow",{attrs:{title:"B. BAHAN"}}),t._v(" "),t._l(t.ahsItem.item_arranged.ingredients,(function(e,s){return a("AhsItemRow",{key:"B-"+s,attrs:{idx:s,"codes-list":t.ahsItemableList,"units-list":t.unitsList,"ahs-itemable-list":t.ahsItemableList,"ahs-item":e},on:{"ahs-item-updated":t.onAhsItemUpdated,"ahs-item-deleted":t.onAhsItemDeleted}})})),t._v(" "),a("tr",[a("td",{staticClass:"font-weight-bold",attrs:{colspan:"8"}},[a("a",{staticClass:"d-block w-100",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.addAhsItem("ingredients")}}},[t._v("\n              + Tambah Baris\n            ")])])]),t._v(" "),a("AhsFooterRow",{attrs:{title:"Total Bahan",value:t.totalBahan}}),t._v(" "),a("AhsHeaderRow",{attrs:{title:"C. PERALATAN"}}),t._v(" "),t._l(t.ahsItem.item_arranged.tools,(function(e,s){return a("AhsItemRow",{key:"C-"+s,attrs:{idx:s,"codes-list":t.ahsItemableList,"units-list":t.unitsList,"ahs-itemable-list":t.ahsItemableList,"ahs-item":e},on:{"ahs-item-updated":t.onAhsItemUpdated,"ahs-item-deleted":t.onAhsItemDeleted}})})),t._v(" "),a("tr",[a("td",{staticClass:"font-weight-bold",attrs:{colspan:"8"}},[a("a",{staticClass:"d-block w-100",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.addAhsItem("tools")}}},[t._v("\n              + Tambah Baris\n            ")])])]),t._v(" "),a("AhsFooterRow",{attrs:{title:"Total Peralatan",value:t.totalPeralatan}}),t._v(" "),a("AhsHeaderRow",{attrs:{title:"D. LAIN LAIN"}}),t._v(" "),t._l(t.ahsItem.item_arranged.others,(function(e,s){return a("AhsItemRow",{key:"D-"+s,attrs:{idx:s,"codes-list":t.ahsItemableList,"units-list":t.unitsList,"ahs-itemable-list":t.ahsItemableList,"ahs-item":e},on:{"ahs-item-updated":t.onAhsItemUpdated,"ahs-item-deleted":t.onAhsItemDeleted}})})),t._v(" "),a("tr",[a("td",{staticClass:"font-weight-bold",attrs:{colspan:"8"}},[a("a",{staticClass:"d-block w-100",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.addAhsItem("others")}}},[t._v("\n              + Tambah Baris\n            ")])])]),t._v(" "),a("AhsFooterRow",{attrs:{title:"Total Lain Lain",value:t.totalLainLain}}),t._v(" "),a("AhsHeaderRow",{attrs:{title:"E. JUMLAH HARGA TENAGA, BAHAN, PERALATAN, DAN LAIN LAIN",tooltip:"(A + B + C + D)",value:t.ahsItemSubtotal}}),t._v(" "),a("AhsHeaderRow",{attrs:{title:"F. BIAYA OVERHEAD",tooltip:"0%",value:"Rp.0 "}}),t._v(" "),a("AhsHeaderRow",{attrs:{title:"G. PROFIT",tooltip:"0%",value:"Rp.0 "}}),t._v(" "),a("AhsHeaderRow",{attrs:{title:"H. HARGA SATUAN PEKERJAAN",tooltip:"(E + (F + G))",value:t.ahsItemFinalSubtotal}})],2)]),t._v(" "),a("hr")])])},c=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("No.")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("Uraian Pekerjaan")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("Kode")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("Satuan")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("Koefisien")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("Harga Sat (Rp.)")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("Jumlah (Rp.)")]),t._v(" "),a("th")])])}],d=(a("d81d"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",[t._v(t._s(t.idx+1)+".")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"inline-edit",attrs:{type:"text",disabled:"ItemPrice"==t.ahsItemableType},domProps:{value:t.name},on:{change:t.submitUpdateAhsItem,input:function(e){e.target.composing||(t.name=e.target.value)}}})]),t._v(" "),a("td",[a("v-select",{attrs:{label:"id",reduce:function(t){return t.ahs_itemable_type+"~"+t.id},options:t.getAhsItemableList,id:""},on:{input:t.submitUpdateAhsItem},model:{value:t.ahsItemableId,callback:function(e){t.ahsItemableId=e},expression:"ahsItemableId"}})],1),t._v(" "),a("td",[a("v-select",{attrs:{label:"name",reduce:function(t){return t.hashid},options:t.unitsList,disabled:"ItemPrice"===t.ahsItemableType},on:{input:t.submitUpdateAhsItem},model:{value:t.unitId,callback:function(e){t.unitId=e},expression:"unitId"}})],1),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.coefficient,expression:"coefficient"}],staticClass:"inline-edit",attrs:{type:"number"},domProps:{value:t.coefficient},on:{change:t.submitUpdateAhsItem,input:function(e){e.target.composing||(t.coefficient=e.target.value)}}})]),t._v(" "),a("td",[t._v(t._s(t.getItemPrice))]),t._v(" "),a("td",[t._v(t._s(t.getSubtotalPrice))]),t._v(" "),a("td",[a("DeleteButton",{on:{click:function(e){return e.preventDefault(),t.submitDeleteAhsItem.apply(null,arguments)}}})],1)])}),u=[],m=(a("b0c0"),a("99af"),a("ac1f"),a("1276"),a("4de4"),a("455a")),h=a("2f62"),f=a("ed08"),p=a("bd9a"),b={props:["ahsItem","idx","codesList","unitsList","ahsItemableList"],data:function(){var t;return{name:"ItemPrice"===Object(f["a"])(this.ahsItem.ahs_itemable_type)?this.ahsItem.ahs_itemable.name:this.ahsItem.name,ahsItemableId:"".concat(Object(f["a"])(this.ahsItem.ahs_itemable_type),"~").concat(this.ahsItem.ahs_itemable_id),unitId:"ItemPrice"===Object(f["a"])(this.ahsItem.ahs_itemable_type)?this.ahsItem.ahs_itemable.unit.hashid:null===(t=this.ahsItem.unit)||void 0===t?void 0:t.hashid,coefficient:this.ahsItem.coefficient}},methods:Object(r["a"])(Object(r["a"])({},Object(h["b"])(["updateAhsItem","deleteAhsItem"])),{},{submitUpdateAhsItem:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=Object(f["a"])(t.ahsItem.ahs_itemable_type),s=t.ahsItemableId.split("~"),n={},"Ahs"!==a&&"Ahp"!=a||(n.name=t.name,n.unit_id=t.unitId),n.ahs_itemable_id=s[1],n.ahs_itemable_type=s[0],n.coefficient=t.coefficient,e.next=9,t.updateAhsItem({ahsItemId:t.ahsItem.id,form:n});case 9:e.sent,p["Notify"].success("Berhasil mengupdate item AHS"),t.$emit("ahs-item-updated");case 12:case"end":return e.stop()}}),e)})))()},submitDeleteAhsItem:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(f["r"])({title:"Hapus Item AHS",text:"Aksi ini tidak dapat dibatalkan"});case 2:if(a=e.sent,s=a.isConfirmed,!s){e.next=9;break}return e.next=7,t.deleteAhsItem(t.ahsItem.id);case 7:p["Notify"].success("Berhasil menghapus item ahs"),t.$emit("ahs-item-deleted");case 9:case"end":return e.stop()}}),e)})))()}}),computed:{ahsItemableType:function(){var t=this.ahsItem.ahs_itemable_type;return Object(f["a"])(t)},ahsItemName:function(){return"ItemPrice"==this.ahsItemableType?this.ahsItem.ahs_itemable.name:this.ahsItem.name},getAhsItemableList:function(){var t=this;return this.ahsItemableList.filter((function(e){return e.id!=t.ahsItem.ahs_id})).map((function(t){return t.ahs_itemable_type=Object(f["a"])(t.ahs_itemable_type),t}))},getItemPrice:function(){return"Rp. ".concat(Object(f["d"])(this.ahsItem.ahs_itemable.subtotal))},getSubtotalPrice:function(){return"Rp. ".concat(Object(f["d"])(this.ahsItem.subtotal))}},components:{DeleteButton:m["a"]},watch:{ahsItem:function(t){var e;this.name=Object(f["j"])(t.ahs_itemable_type)?t.ahs_itemable.name:t.name,this.unitId=Object(f["j"])(this.ahsItem.ahs_itemable_type)?this.ahsItem.ahs_itemable.unit.hashid:null===(e=this.ahsItem.unit)||void 0===e?void 0:e.hashid}}},v=b,_=(a("4402"),a("2877")),I=Object(_["a"])(v,d,u,!1,null,"a04bd764",null),A=I.exports,g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",{staticClass:"bg-primary"},[a("th",{attrs:{colspan:null==t.value?8:6}},[t._v("\n    "+t._s(t.title)+"\n    "),null!=t.tooltip?a("i",{directives:[{name:"b-popover",rawName:"v-b-popover.hover",value:t.tooltip,expression:"tooltip",modifiers:{hover:!0}}],staticClass:"text-white ml-1 iconsminds simple-icon-question",on:{click:function(t){t.preventDefault()}}}):t._e()]),t._v(" "),null!=t.value?a("td",{attrs:{colspan:"2"}},[t._v(t._s(t.value))]):t._e()])},k=[],w={props:["title","value","tooltip"]},C=w,x=Object(_["a"])(C,g,k,!1,null,null,null),y=x.exports,j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",{staticClass:"font-weight-bold"},[a("td",{staticClass:"text-right",attrs:{colspan:"6"}},[t._v(t._s(t.title))]),t._v(" "),a("td",{attrs:{colspan:"2"}},[t._v(t._s(t.value))])])},O=[],R={props:["title","value"]},L=R,P=Object(_["a"])(L,j,O,!1,null,null,null),S=P.exports,N={data:function(){return{mainCardCollapsed:!1}},props:["ahsItem","codesList","unitsList","ahsItemableList"],methods:Object(r["a"])(Object(r["a"])({},Object(h["b"])(["destroyAhs","storeAhsItem"])),{},{deleteAhs:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(f["r"])({title:"Hapus AHS",text:"AHS akan dihapus secara permanent !"});case 3:if(a=e.sent,s=a.isConfirmed,!s){e.next=10;break}return e.next=8,t.destroyAhs(t.ahsItem.id);case 8:t.$emit("ahs-deleted"),p["Notify"].success("Berhasil menghapus AHS");case 10:e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](0),e.t0.response?p["Notify"].failure(e.t0.response.data.message):p["Notify"].failure("Gagal menghapus AHS");case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))()},onAhsItemUpdated:function(){this.$emit("ahs-item-updated")},editAhs:function(){this.$emit("ahs-item-edit-clicked",this.ahsItem)},addAhsItem:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!(e.ahsItemableList.length<=0)){a.next=4;break}p["Notify"].failure("Tidak ada data untuk di referensi, buat minimal 1 harga satuan terlebih dahulu"),a.next=8;break;case 4:return a.next=6,e.storeAhsItem({ahsId:e.ahsItem.id,form:{section:t,ahs_itemable_id:e.ahsItemableList[0].id,ahs_itemable_type:Object(f["a"])(e.ahsItemableList[0].ahs_itemable_type)}});case 6:a.sent,e.$emit("ahs-item-added");case 8:case"end":return a.stop()}}),a)})))()},onAhsItemDeleted:function(){this.$emit("ahs-item-deleted")},toggleMaincardCollapse:function(){this.mainCardCollapsed=!this.mainCardCollapsed}}),computed:{totalTenagaKerja:function(){var t=0;return this.ahsItem.item_arranged.labor&&this.ahsItem.item_arranged.labor.length>0&&(t=this.ahsItem.item_arranged.labor.map((function(t){return t.subtotal})).reduce((function(t,e){return t+e}))),"Rp. ".concat(Object(f["d"])(t))},totalBahan:function(){var t=0;return this.ahsItem.item_arranged.ingredients&&this.ahsItem.item_arranged.ingredients.length>0&&(t=this.ahsItem.item_arranged.ingredients.map((function(t){return t.subtotal})).reduce((function(t,e){return t+e}))),"Rp. ".concat(Object(f["d"])(t))},totalPeralatan:function(){var t=0;return this.ahsItem.item_arranged.tools&&this.ahsItem.item_arranged.tools.length>0&&(t=this.ahsItem.item_arranged.tools.map((function(t){return t.subtotal})).reduce((function(t,e){return t+e}))),"Rp. ".concat(Object(f["d"])(t))},totalLainLain:function(){var t=0;return this.ahsItem.item_arranged.others&&this.ahsItem.item_arranged.others.length>0&&(t=this.ahsItem.item_arranged.others.map((function(t){return t.subtotal})).reduce((function(t,e){return t+e}))),"Rp. ".concat(Object(f["d"])(t))},ahsItemSubtotal:function(){return"Rp. ".concat(Object(f["d"])(this.ahsItem.subtotal))},ahsItemFinalSubtotal:function(){return"Rp. ".concat(Object(f["d"])(0*this.ahsItem.subtotal+0*this.ahsItem.subtotal+this.ahsItem.subtotal))}},components:{AhsItemRow:A,AhsHeaderRow:y,AhsFooterRow:S}},$=N,H=(a("32b2"),Object(_["a"])($,l,c,!1,null,"144359ee",null)),E=H.exports,D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-modal",{ref:t.modalId,attrs:{id:t.modalId,title:"Tambah AHS"}},[a("ValidationInput",{staticClass:"mb-4",attrs:{label:"Kode","field-name":"id"},model:{value:t.form.id,callback:function(e){t.$set(t.form,"id",e)},expression:"form.id"}}),t._v(" "),a("ValidationInput",{staticClass:"mb-4",attrs:{label:"Nama","field-name":"name"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}}),t._v(" "),a("template",{slot:"modal-footer"},[a("b-button",{staticClass:"mr-1",attrs:{variant:"primary"},on:{click:function(e){return e.preventDefault(),t.submitForm.apply(null,arguments)}}},[t._v("\n      "+t._s(t.$t("modal.save-bt"))+"\n    ")]),t._v(" "),a("b-button",{attrs:{variant:"secondary"},on:{click:function(e){return t.hideModal(t.modalId)}}},[t._v("\n      "+t._s(t.$t("modal.cancel-bt"))+"\n    ")])],1)],2)},T=[],F=a("d452"),B=a("d5ad"),U={mixins:[B["a"]],data:function(){return{modalId:"add-ahs-modal",form:{id:"",name:""}}},methods:Object(r["a"])(Object(r["a"])({},Object(h["b"])(["storeAhs"])),{},{hideModal:function(t){this.$refs[t].hide()},resetForm:function(){this.form.id="",this.form.name=""},submitForm:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.resetInvalid(),e.next=4,t.storeAhs(t.form);case 4:e.sent,t.hideModal(t.modalId),t.$emit("ahs-added"),p["Notify"].success("Sukses Membuat AHS Baru"),t.resetForm(),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](0),t.checkForInvalidResponse(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))()}}),components:{ValidationInput:F["a"]}},M=U,q=Object(_["a"])(M,D,T,!1,null,null,null),K=q.exports,G=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-modal",{ref:t.modalId,attrs:{id:t.modalId,title:"Edit AHS"}},[a("ValidationInput",{staticClass:"mb-4",attrs:{label:"Kode","field-name":"id"},model:{value:t.form.id,callback:function(e){t.$set(t.form,"id",e)},expression:"form.id"}}),t._v(" "),a("ValidationInput",{staticClass:"mb-4",attrs:{label:"Nama","field-name":"name"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}}),t._v(" "),a("template",{slot:"modal-footer"},[a("b-button",{staticClass:"mr-1",attrs:{variant:"primary"},on:{click:function(e){return e.preventDefault(),t.submitForm.apply(null,arguments)}}},[t._v("\n      "+t._s(t.$t("modal.save-bt"))+"\n    ")]),t._v(" "),a("b-button",{attrs:{variant:"secondary"},on:{click:function(e){return t.hideModal(t.modalId)}}},[t._v("\n      "+t._s(t.$t("modal.cancel-bt"))+"\n    ")])],1)],2)},V=[],J={mixins:[B["a"]],data:function(){return{modalId:"edit-ahs-modal",form:{id:"",name:""}}},props:["selectedAhs"],methods:Object(r["a"])(Object(r["a"])({},Object(h["b"])(["updateAhs"])),{},{hideModal:function(t){this.$refs[t].hide()},resetForm:function(){this.form.id="",this.form.name=""},submitForm:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.resetInvalid(),e.next=4,t.updateAhs({ahsId:t.selectedAhs.id,form:t.form});case 4:e.sent,t.hideModal(t.modalId),t.$emit("ahs-updated"),p["Notify"].success("Sukses Update AHS"),t.resetForm(),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](0),t.checkForInvalidResponse(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))()}}),watch:{selectedAhs:function(){this.form.id=this.selectedAhs.id,this.form.name=this.selectedAhs.name}},components:{ValidationInput:F["a"]}},Y=J,z=Object(_["a"])(Y,G,V,!1,null,null,null),Q=z.exports,W={data:function(){return{codesList:["L.01"],unitsList:["OH"],provinces:[],selectedProvince:"",selectedAhs:{}}},created:function(){this.loadProvinces(),this.fetchUnit(),this.fetchAhsItemableIds()},methods:Object(r["a"])(Object(r["a"])({},Object(h["b"])(["fetchProvinces","fetchAhs","fetchUnit","fetchAhsItemableIds"])),{},{ahsAdded:function(){this.fetchUnit(),this.fetchAhsItemableIds(),this.fetchAhs(this.selectedProvince)},loadProvinces:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.fetchProvinces();case 2:a=e.sent,t.provinces=a,t.selectedProvince=a[0].hashid;case 5:case"end":return e.stop()}}),e)})))()},editAhs:function(t){this.selectedAhs=t}}),computed:Object(r["a"])({},Object(h["c"])(["getAhs","getUnit","getAhsItemableIds"])),components:{AhsItem:E,FloatingActionButton:o["a"],AddAhs:K,EditAhs:Q},watch:{selectedProvince:function(){this.fetchAhs(this.selectedProvince)}}},X=W,Z=(a("35bf"),Object(_["a"])(X,s,n,!1,null,"0fe8285b",null));e["default"]=Z.exports},2244:function(t,e,a){},"32b2":function(t,e,a){"use strict";a("6228")},"35bf":function(t,e,a){"use strict";a("e98c")},4402:function(t,e,a){"use strict";a("2244")},"455a":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"text-danger mr-2",class:t.additionalClasses,attrs:{href:t.href},on:{click:t.onClick}},[t._t("default",(function(){return[a("i",{staticClass:"simple-icon-trash"})]}))],2)},n=[],i={props:{href:{type:String,default:""},additionalClasses:{type:Object}},methods:{onClick:function(t){this.$emit("click",t)}}},r=i,o=a("2877"),l=Object(o["a"])(r,s,n,!1,null,null,null);e["a"]=l.exports},6228:function(t,e,a){},"935f":function(t,e,a){},"9bea":function(t,e,a){"use strict";a("935f")},a420:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"floating-action-button bg-primary border-0 rounded-circle",on:{click:function(e){return e.preventDefault(),t.fabClick.apply(null,arguments)}}},[a("i",{staticClass:"iconsmind iconsminds-add m-0"})])},n=[],i={methods:{fabClick:function(t){this.$emit("click",t)}}},r=i,o=(a("9bea"),a("2877")),l=Object(o["a"])(r,s,n,!1,null,"bab37318",null);e["a"]=l.exports},d452:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"validation-input"},[a("label",{staticClass:"form-group has-float-label mb-0 can-invalid",class:t.fieldName},[a("input",{staticClass:"form-control",attrs:{type:t.type},domProps:{value:t.value},on:{input:function(e){return t.$emit("input",e.target.value)}}}),t._v(" "),a("span",[t._v(t._s(t.label))])]),t._v(" "),a("span",{staticClass:"mt-1 d-block text-danger error-msg d-none",attrs:{for:""}})])},n=[],i={props:{value:{type:String,required:!1},fieldName:{type:String,required:!0},label:{type:String,required:!0},type:{type:String,required:!1,default:"text"}}},r=i,o=a("2877"),l=Object(o["a"])(r,s,n,!1,null,null,null);e["a"]=l.exports},d5ad:function(t,e,a){"use strict";a("159b");var s=a("bd9a");e["a"]={methods:{setInvalid:function(t,e){var a=".can-invalid.".concat(t),s=document.querySelector("".concat(a," input.form-control")),n=document.querySelector("".concat(a," span")),i=document.querySelector("".concat(a," + .error-msg"));s.classList.add("border-danger"),n.classList.add("text-danger"),i.classList.remove("d-none"),i.innerHTML=e},processInvalid:function(t){for(var e in t.errors)this.setInvalid(e,t.errors[e])},resetInvalid:function(){var t=".can-invalid",e=document.querySelectorAll("".concat(t," input.form-control")),a=document.querySelectorAll("".concat(t," span")),s=document.querySelectorAll("".concat(t," + .error-msg"));e.forEach((function(t){t.classList.remove("border-danger")})),a.forEach((function(t){t.classList.remove("text-danger")})),s.forEach((function(t){t.classList.add("d-none"),t.innerHTML=""}))},checkForInvalidResponse:function(t){var e;switch(null===(e=t.response)||void 0===e?void 0:e.status){case 422:this.processInvalid(t.response.data);break;default:s["Notify"].failure("Terjadi kesalahan"),console.error(t);break}}}}},e98c:function(t,e,a){}}]);